<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
	 crossorigin="anonymous">
	<link rel="stylesheet" href="node_modules/codemirror/lib/codemirror.css">
	<link rel="stylesheet" href="node_modules/codemirror/theme/monokai.css">

</head>

<body>
	<div class="container">
		<h1>Simple Code Editor</h1>

		<div id="editor" class="card card-outline-primary mb-3"></div>
		<button id="push">Submit</button>
	</div>


	<!-- jQuery first, then Tether, then Bootstrap JS. -->
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
	 crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
	 crossorigin="anonymous"></script>
	<script src="node_modules/codemirror/lib/codemirror.js"></script>
	<script src="node_modules/codemirror/mode/javascript/javascript.js"></script>
	<script src="node_modules/codemirror/mode/ruby/ruby.js"></script>
	<script src="node_modules/codemirror/keymap/sublime.js"></script>
	<script>
		var editor = CodeMirror(document.getElementById('editor'), {
			// This is where you can initialize the editor instance with a base value
			value: "class MyEditor\n	attr_reader :content\n\n	def initialize(content)\n		@content = content\n	end\n\nend\n",
			lineNumbers: true,
			mode: "ruby",
			keyMap: "sublime",
			autoCloseBrackets: true,
			matchBrackets: true,
			showCursorWhenSelecting: true,
			theme: "monokai",
			tabSize: 2,
			indentUnit: 2,
			smartIndent: true,
			indentWithTabs: true,
			tabIndex: 2
		});

		var button = document.getElementById('push')

		button.addEventListener('click', function () {
			console.log(editor.getValue()); // This is how you can get the value on click
			// Below is how you can manipulate the value or set new value.
			editor.getDoc().setValue("editor = MyEditor.new('Hello World')\neditor.content\n->	'Hello World'");
		});

	</script>
</body>

</html>